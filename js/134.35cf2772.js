"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[134],{5134:function(t,a,e){e.r(a),e.d(a,{default:function(){return f}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("NavPage"),e("div",{staticClass:"main"},[e("div",{staticClass:"py-container"},[e("div",{staticClass:"bread"},[t._m(0),e("ul",{staticClass:"fl sui-tag"},[t.params.categoryName?e("li",{staticClass:"with-x"},[t._v(" "+t._s(t.params.categoryName)),e("i",{on:{click:t.delCategoryName}},[t._v("×")])]):t._e(),t.params.keyword?e("li",{staticClass:"with-x"},[t._v(" "+t._s(t.params.keyword)),e("i",{on:{click:t.delKeyWord}},[t._v("×")])]):t._e(),t.params.trademark?e("li",{staticClass:"with-x"},[t._v(" "+t._s(t.params.trademark.split(":")[1])),e("i",{on:{click:t.delTradeMark}},[t._v("×")])]):t._e(),t._l(t.params.props,(function(a,s){return e("li",{key:s,staticClass:"with-x"},[t._v(" "+t._s(a.split(":")[1])),e("i",{on:{click:function(a){return t.delattr(s)}}},[t._v("×")])])}))],2)]),e("SearchSelector",{on:{tradeMarkInfo:t.tradeMarkInfo,attrInfo:t.attrInfo}}),e("div",{staticClass:"details clearfix"},[e("div",{staticClass:"sui-navbar"},[e("div",{staticClass:"navbar-inner filter"},[e("ul",{staticClass:"sui-nav"},[e("li",{class:{active:t.orderOne},on:{click:function(a){return t.orderchange("1")}}},[e("a",[t._v("综合")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.orderOne,expression:"orderOne"}]},[t.ordercheck?e("span",[t._v("⬆")]):e("span",[t._v("⬇")])])]),e("li",{class:{active:t.orderTwo},on:{click:function(a){return t.orderchange("2")}}},[e("a",[t._v("价格")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.orderTwo,expression:"orderTwo"}]},[t.ordercheck?e("span",[t._v("⬆")]):e("span",[t._v("⬇")])])]),t._m(1),t._m(2),t._m(3)])])]),e("div",{staticClass:"goods-list"},[e("ul",{staticClass:"yui3-g"},t._l(t.goodsList,(function(a){return e("li",{key:a.id,staticClass:"yui3-u-1-5"},[e("div",{staticClass:"list-wrap"},[e("div",{staticClass:"p-img"},[e("router-link",{attrs:{to:"/detail/"+a.id}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.defaultImg,expression:"good.defaultImg"}],key:a.id})])],1),e("div",{staticClass:"price"},[e("strong",[e("em",[t._v("¥")]),e("i",[t._v(" "+t._s(a.price)+".00")])])]),e("div",{staticClass:"attr"},[e("a",{attrs:{target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"}},[t._v(t._s(a.title))])]),t._m(4,!0),t._m(5,!0)])])})),0)]),e("Pagination",{attrs:{pageNo:t.params.pageNo,pageSize:t.params.pageSize,total:t.SearchData.total,pageRange:5},on:{oderInfo:t.oderInfo}})],1)],1)])],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"fl sui-breadcrumb"},[e("li",[e("a",{attrs:{href:"#"}},[t._v("全部结果")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("销量")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("新品")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[t._v("评价")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"commit"},[e("i",{staticClass:"command"},[t._v("已有"),e("span",[t._v("2000")]),t._v("人评价")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"operate"},[e("a",{staticClass:"sui-btn btn-bordered btn-danger",attrs:{href:"success-cart.html",target:"_blank"}},[t._v("加入购物车")]),e("a",{staticClass:"sui-btn btn-bordered",attrs:{href:"javascript:void(0);"}},[t._v("收藏")])])}],i=e(4665),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"clearfix selector"},[e("div",{staticClass:"type-wrap logo"},[e("div",{staticClass:"fl key brand"},[t._v("品牌")]),e("div",{staticClass:"value logos"},[e("ul",{staticClass:"logo-list"},t._l(t.trademarkList,(function(a){return e("li",{key:a.id,on:{click:function(e){return t.tradeMarkInfo(a)}}},[t._v(" "+t._s(a.tmName)+" ")])})),0)]),t._m(0)]),t._l(t.attrsList,(function(a){return e("div",{key:a.attrId,staticClass:"type-wrap"},[e("div",{staticClass:"fl key"},[t._v(t._s(a.attrName))]),e("div",{staticClass:"fl value"},[e("ul",{staticClass:"type-list"},t._l(a.attrValueList,(function(s,r){return e("li",{key:r},[e("a",{on:{click:function(e){return t.attrInfo(a,s)}}},[t._v(t._s(s))])])})),0)]),e("div",{staticClass:"fl ext"})])}))],2)},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ext"},[e("a",{staticClass:"sui-btn",attrs:{href:"javascript:void(0);"}},[t._v("多选")]),e("a",{attrs:{href:"javascript:void(0);"}},[t._v("更多")])])}],n={name:"SearchSelector",computed:{...(0,i.Se)("searchInfo",["attrsList","trademarkList"])},methods:{tradeMarkInfo(t){this.$emit("tradeMarkInfo",`${t.tmId}:${t.tmName}`)},attrInfo(t,a){this.$emit("attrInfo",t,a)}}},l=n,d=e(1001),m=(0,d.Z)(l,o,c,!1,null,"0b7b6e93",null),u=m.exports,h={name:"SearchPage",components:{SearchSelector:u},data(){return{params:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:asc",pageNo:1,pageSize:5,props:[],trademark:""}}},beforeMount(){this.sendParams()},mounted(){this.getData()},computed:{...(0,i.Se)("searchInfo",["goodsList"]),...(0,i.rn)("searchInfo",["SearchData"]),orderOne(){return-1!==this.params.order.indexOf("1")},orderTwo(){return-1!==this.params.order.indexOf("2")},ordercheck(){return-1!==this.params.order.indexOf("asc")}},methods:{getData(){this.$store.dispatch("searchInfo/getSearchData",this.params)},sendParams(){let t={categoryName:this.$route.query.categoryName||void 0,category1Id:this.$route.query.list1id||void 0,category2Id:this.$route.query.list2id||void 0,category3Id:this.$route.query.list3id||void 0};Object.assign(this.params,t,this.$route.params)},delCategoryName(){this.params.categoryName=void 0,this.params.category1Id=void 0,this.params.category2Id=void 0,this.params.category3Id=void 0,this.getData(),this.$route.params&&this.$router.push({name:"search",params:this.$route.params})},delKeyWord(){this.params.keyword=void 0,this.getData(),this.$bus.$emit("clearKeyWord"),this.$route.query&&this.$router.push({name:"search",query:this.$route.query})},tradeMarkInfo(t){this.params.trademark=t,this.getData()},delTradeMark(){this.params.trademark=void 0,this.getData()},attrInfo(t,a){let e=`${t.attrId}:${a}:${t.attrName}`;-1==this.params.props.indexOf(e)&&this.params.props.push(e),this.getData()},delattr(t){this.params.props.splice(t,1),this.getData()},orderchange(t){let a=this.params.order.split(":")[0],e=this.params.order.split(":")[1];t!==a?this.params.order=`${t}:${e}`:t==a&&("asc"==e?this.params.order=`${t}:desc`:"desc"==e&&(this.params.order=`${t}:asc`)),this.getData()},oderInfo(t){this.params.pageNo=t,this.getData()}},watch:{$route(){this.sendParams(),this.getData()}}},v=h,p=(0,d.Z)(v,s,r,!1,null,"1cba75c6",null),f=p.exports}}]);
//# sourceMappingURL=134.35cf2772.js.map